"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _cors=_interopRequireDefault(require("cors")),_config=_interopRequireDefault(require("./configs/config.js")),_cookieParser=_interopRequireDefault(require("cookie-parser")),_index=_interopRequireDefault(require("./routes/index.js"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}class App{_routes=[];constructor(a){this._express=a,this._app=a(),this._app.use(a.json()),this._app.use((0,_cors.default)({origin:process.env.ORIGIN,credentials:!0})),this._app.use((0,_cookieParser.default)()),this._app.set("trust proxy",1),this._routes=_index.default,this._routes.forEach(a=>{this._app.use(a)}),(0,_config.default)()}listen(a){if(!Number.isInteger(a))throw new TypeError("Port must be a number");this._app.listen(process.env.PORT||a,b=>b?console.log(b):void console.log(`Server started on port ${a}`))}}exports.default=App;