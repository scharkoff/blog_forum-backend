"use strict";var _validateAccessToken=_interopRequireDefault(require("../domain/token/handlers/validateAccessToken.js"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _default=(a,b,c)=>{const d=a.headers.authorization?.split(" ")[1];if(d)try{const e=(0,_validateAccessToken.default)(d);if(!e)return b.status(403).json({message:"\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430"});a.userId=e.id,c()}catch(a){return b.status(403).json({message:"\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430"})}else return b.status(403).json({message:"\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430"})};exports.default=_default;